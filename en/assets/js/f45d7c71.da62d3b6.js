"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[999],{39053:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>c,contentTitle:()=>r,default:()=>d,frontMatter:()=>s,metadata:()=>l,toc:()=>p});var o=i(85893),t=i(11151);const s={sidebar_position:1},r="\u642d\u5efaYOLOV5-V6.0\u73af\u5883",l={id:"V853/part5/05-1_BuildYOLOV5-V6.0Environment",title:"\u642d\u5efaYOLOV5-V6.0\u73af\u5883",description:"0.\u524d\u8a00",source:"@site/docs/V853/part5/05-1_BuildYOLOV5-V6.0Environment.md",sourceDirName:"V853/part5",slug:"/V853/part5/05-1_BuildYOLOV5-V6.0Environment",permalink:"/en/docs/V853/part5/05-1_BuildYOLOV5-V6.0Environment",draft:!1,unlisted:!1,editUrl:"https://github.com/100askTeam/AllwinnerVisionIC-Docs/tree/main/docs/V853/part5/05-1_BuildYOLOV5-V6.0Environment.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"v853Sidebar",previous:{title:"\u7b97\u6cd5\u73af\u5883\u642d\u5efa",permalink:"/en/docs/category/\u7b97\u6cd5\u73af\u5883\u642d\u5efa"},next:{title:"\u6a21\u578b\u90e8\u7f72\u5f00\u53d1",permalink:"/en/docs/category/\u6a21\u578b\u90e8\u7f72\u5f00\u53d1"}},c={},p=[{value:"0.\u524d\u8a00",id:"0\u524d\u8a00",level:2},{value:"1.\u642d\u5efaPython\u73af\u5883",id:"1\u642d\u5efapython\u73af\u5883",level:2},{value:"2.\u5b89\u88c5Pytorch\u548ccuda",id:"2\u5b89\u88c5pytorch\u548ccuda",level:2},{value:"3.\u5b89\u88c5YOLOV5-V6.0\u7248\u672c\u4f9d\u8d56\u5305",id:"3\u5b89\u88c5yolov5-v60\u7248\u672c\u4f9d\u8d56\u5305",level:2},{value:"4.\u6d4b\u8bd5YOLOV5\u73af\u5883",id:"4\u6d4b\u8bd5yolov5\u73af\u5883",level:2},{value:"4.1 \u6d4b\u8bd5\u68c0\u6d4b\u6a21\u578b",id:"41-\u6d4b\u8bd5\u68c0\u6d4b\u6a21\u578b",level:3},{value:"4.2 \u6d4b\u8bd5\u5bfc\u51fa\u6a21\u578b",id:"42-\u6d4b\u8bd5\u5bfc\u51fa\u6a21\u578b",level:3},{value:"4.3 \u6d4b\u8bd5\u8bad\u7ec3\u6a21\u578b",id:"43-\u6d4b\u8bd5\u8bad\u7ec3\u6a21\u578b",level:3}];function a(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.a)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.h1,{id:"\u642d\u5efayolov5-v60\u73af\u5883",children:"\u642d\u5efaYOLOV5-V6.0\u73af\u5883"}),"\n",(0,o.jsx)(e.h2,{id:"0\u524d\u8a00",children:"0.\u524d\u8a00"}),"\n",(0,o.jsx)(e.p,{children:"\u200b\t\u672c\u7ae0\u8282\u4e3b\u8981\u8bb0\u5f55\u5982\u4f55\u642d\u5efayolov5-v6.0\u73af\u5883\uff0c\u5e76\u652f\u6301CUDA\u52a0\u901f\u3002\u6b64\u6587\u7ae0\u7684\u786c\u4ef6\u8981\u6c42\u5982\u4e0b\uff0c\u5982\u679c\u60a8\u7684\u7535\u8111\u6ca1\u6709\u663e\u5361\u8bbe\u5907\uff0c\u8fd9\u7bc7\u6587\u7ae0\u65e0\u6cd5\u7ed9\u60a8\u5f53\u505a\u53c2\u8003\u3002"}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"\u786c\u4ef6\u4e0e\u8f6f\u4ef6\u5217\u8868\uff1a"})}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsx)(e.p,{children:"CPU\uff1aIntel(R) Xeon(R) CPU E5-2680 v4 @ 2.40GHz   2.40 GHz"}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsx)(e.p,{children:"\u663e\u5361\uff1aRTX 3060"}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsx)(e.p,{children:"\u7cfb\u7edf\uff1aWindows 10 \u4e13\u4e1a\u5de5\u4f5c\u7ad9\u7248"}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"1\u642d\u5efapython\u73af\u5883",children:"1.\u642d\u5efaPython\u73af\u5883"}),"\n",(0,o.jsx)(e.p,{children:"\u6253\u5f00Conda\u7ec8\u7aef\uff0c\u521b\u5efaPython3.7\u7684Conda\u73af\u5883\uff0c\u8f93\u5165"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:"conda create -n py37_yolov5 python=3.7\n"})}),"\n",(0,o.jsx)(e.p,{children:"\u521b\u5efa\u5b8c\u6210\u540e\uff0c\u9700\u8981\u5b89\u88c5pytorch\u3002"}),"\n",(0,o.jsx)(e.h2,{id:"2\u5b89\u88c5pytorch\u548ccuda",children:"2.\u5b89\u88c5Pytorch\u548ccuda"}),"\n",(0,o.jsx)(e.p,{children:"\u4e24\u8005\u7684\u5b89\u88c5\u987a\u5e8f\u6ca1\u6709\u8981\u6c42\uff0c\u4f46\u90fd\u6709\u7248\u672c\u8981\u6c42\u3002\u7b80\u800c\u8a00\u4e4b\uff1a\u4e24\u8005\u7248\u672c\u9700\u8981\u5bf9\u5e94\uff0c\u4e00\u4e2a\u9ad8\u7248\u672c\u548c\u4e00\u4e2a\u4f4e\u7248\u672c\u4f1a\u5bfc\u81f4CUDA\u65e0\u6cd5\u4f7f\u7528\u3002"}),"\n",(0,o.jsx)(e.p,{children:"\u9700\u8981\u67e5\u4e86\u663e\u5361\u9a71\u52a8\u7248\u672c\uff0c\u67e5\u770b\u65b9\u5f0f\u5982\u4e0b\uff1a"}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.img,{alt:"yolov5-EnvironmentalConstruction",src:i(6196).Z+"",width:"1250",height:"797"})}),"\n",(0,o.jsxs)(e.p,{children:["\u67e5\u770bCUDA\u9a71\u52a8\u9002\u7528\u7248\u672c:",(0,o.jsx)(e.a,{href:"https://docs.nvidia.com/cuda/cuda-toolkit-release-notes/index.html",children:"CUDA\u9a71\u52a8\u9002\u914d\u7248\u672c"}),",\u67e5\u770b\u8868\u683c3:",(0,o.jsx)(e.a,{href:"https://docs.nvidia.com/cuda/cuda-toolkit-release-notes/index.html#id4",children:"CUDA\u5de5\u5177\u5305\u548c\u76f8\u5e94\u7684\u9a71\u52a8\u7a0b\u5e8f\u7248\u672c"})]}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.img,{alt:"image-20230627170953684",src:i(71947).Z+"",width:"1005",height:"790"})}),"\n",(0,o.jsx)(e.p,{children:"\u5982\u679c\u5ba2\u6237\u7684\u9a71\u52a8\u7248\u672c\u8fc7\u4f4e\uff0c\u66f4\u65b0\u663e\u5361\u9a71\u52a8\u5373\u53ef\u5347\u7ea7\uff0c\u66f4\u65b0\u65b9\u6cd5\u53ef\u5728\u7f51\u4e0a\u81ea\u884c\u641c\u7d22\u3002"}),"\n",(0,o.jsx)(e.p,{children:"\u4e0b\u9762\u6211\u5b89\u88c5CUDA11.3\u7248\u672c\u7684\uff0c\u4ee5\u6ee1\u8db3\u66f4\u591a\u5ba2\u6237\u7684\u9700\u8981\u3002"}),"\n",(0,o.jsxs)(e.p,{children:["\u8fdb\u5165pytorch\u7f51\u5740\uff1a",(0,o.jsx)(e.a,{href:"https://pytorch.org/",children:"https://pytorch.org/"}),"\uff0c\u4e0b\u8f7d\u4e4b\u524d\u7248\u672c\u7684pytorch\u3002\u4e0b\u8f7d\u6b65\u9aa4\u5982\u4e0b\uff1a"]}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.img,{alt:"pytorch-EnvironmentalConfig",src:i(81063).Z+"",width:"1205",height:"797"})}),"\n",(0,o.jsx)(e.p,{children:"\u5c06\u590d\u5236\u51fa\u6765\u7684\u547d\u4ee4\uff0c\u7c98\u8d34\u81f3\u7ec8\u7aef\u8f93\u5165\uff1a"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:"conda install pytorch==1.10.0 torchvision==0.11.0 torchaudio==0.10.0 cudatoolkit=11.3 -c pytorch -c conda-forge\n"})}),"\n",(0,o.jsx)(e.p,{children:"\u6d4b\u8bd5\u5b89\u88c5\u7684pytorch\u662f\u5426\u53ef\u7528"}),"\n",(0,o.jsxs)(e.p,{children:["\u5728Conda\u7ec8\u7aef\u8f93\u5165",(0,o.jsx)(e.code,{children:"python"}),"\u540e\uff0c\u52a0\u8f7dtorch\u6a21\u5757\uff0c\u6253\u5370cuda\u662f\u5426\u53ef\u7528\u3002"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:'(py37_yolov5) D:\\Programmers\\ModelDeployment\\2.yolov5\\yolov5-train\\yolov5-6.0\\yolov5-6.0>python\nPython 3.7.16 (default, Jan 17 2023, 16:06:28) [MSC v.1916 64 bit (AMD64)] :: Anaconda, Inc. on win32\nType "help", "copyright", "credits" or "license" for more information.\n>>> import torch\n>>> torch.cuda.is_available()\nTrue\n'})}),"\n",(0,o.jsx)(e.h2,{id:"3\u5b89\u88c5yolov5-v60\u7248\u672c\u4f9d\u8d56\u5305",children:"3.\u5b89\u88c5YOLOV5-V6.0\u7248\u672c\u4f9d\u8d56\u5305"}),"\n",(0,o.jsxs)(e.p,{children:["\u5b89\u88c5\u524d\uff0c\u67e5\u770b\u5df2\u7ecf\u5b89\u88c5\u7684\u4f9d\u8d56\u5305\uff0c\u8f93\u5165",(0,o.jsx)(e.code,{children:"pip list"})]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:"(py37_yolov5) D:\\Programmers\\ModelDeployment\\2.yolov5\\yolov5-train\\yolov5-6.0\\yolov5-6.0>pip list\nPackage           Version\n----------------- --------\ncertifi           2023.5.7\ncycler            0.11.0\nfonttools         4.38.0\nkiwisolver        1.4.4\nnumpy             1.21.6\npackaging         23.1\nPillow            9.2.0\npip               22.3.1\npyparsing         3.1.0\npython-dateutil   2.8.2\nsetuptools        65.6.3\nsix               1.16.0\ntorch             1.10.0\ntorchaudio        0.10.0\ntorchvision       0.11.0\ntyping_extensions 4.6.3\nwheel             0.38.4\nwincertstore      0.2\n"})}),"\n",(0,o.jsxs)(e.p,{children:["\u67e5\u770b\u6e90\u7801\u76ee\u5f55\u4e2d\u7684\u4f9d\u8d56\u6587\u4ef6",(0,o.jsx)(e.code,{children:"requirements.txt"}),"\u53ef\u77e5\uff0c\u8fd9\u91cc\u6211\u4e0d\u5efa\u8bae\u76f4\u63a5\u8f93\u5165",(0,o.jsx)(e.code,{children:"pip install -r requirements.txt"})]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:"# pip install -r requirements.txt\n\n# Base ----------------------------------------\nmatplotlib>=3.2.2\nnumpy>=1.18.5\nopencv-python>=4.1.2\nPillow>=7.1.2\nPyYAML>=5.3.1\nrequests>=2.23.0\nscipy>=1.4.1\ntorch>=1.7.0\ntorchvision>=0.8.1\ntqdm>=4.41.0\n\n# Logging -------------------------------------\ntensorboard>=2.4.1\n# wandb\n\n# Plotting ------------------------------------\npandas>=1.1.4\nseaborn>=0.11.0\n\n# Export --------------------------------------\n# coremltools>=4.1  # CoreML export\n# onnx>=1.9.0  # ONNX export\n# onnx-simplifier>=0.3.6  # ONNX simplifier\n# scikit-learn==0.19.2  # CoreML quantization\n# tensorflow>=2.4.1  # TFLite export\n# tensorflowjs>=3.9.0  # TF.js export\n\n# Extras --------------------------------------\n# albumentations>=1.0.3\n# Cython  # for pycocotools https://github.com/cocodataset/cocoapi/issues/172\n# pycocotools>=2.0  # COCO mAP\n# roboflow\nthop  # FLOPs computation\n"})}),"\n",(0,o.jsx)(e.p,{children:"\u8fd9\u91cc\u6211\u5efa\u8bae\u5728Conda\u547d\u4ee4\u4e2d\u5355\u72ec\u5b89\u88c5\u6240\u9700\u7684\u4f9d\u8d56\uff0c\u67e5\u6f0f\u8865\u7f3a\uff0c\u7f3a\u5c11\u4e86\u54ea\u4e2a\u4f9d\u8d56\u5305\u5c31\u8865\u5145\u54ea\u4e00\u4e2a\u5373\u53ef\u3002"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:"pip install opencv-python==4.7.0.68 -i https://pypi.doubanio.com/simple/\npip install matplotlib==3.5.3 -i https://pypi.doubanio.com/simple/\npip install PyYAML==6.0 -i https://pypi.doubanio.com/simple/\npip install requests==2.28.2 -i https://pypi.doubanio.com/simple/\npip install tqdm==4.64.1 -i https://pypi.doubanio.com/simple/\npip install tensorboard==2.11.2 -i https://pypi.doubanio.com/simple/\npip install pandas==1.1.5 -i https://pypi.doubanio.com/simple/\npip install seaborn==0.12.2 -i https://pypi.doubanio.com/simple/\npip install coremltools==4.1 -i https://pypi.doubanio.com/simple/\npip install onnx==1.13.0 -i https://pypi.doubanio.com/simple/\npip install onnxsim==0.4.13 -i https://pypi.doubanio.com/simple/\npip install scikit-learn==0.19.2 -i https://pypi.doubanio.com/simple/\n"})}),"\n",(0,o.jsx)(e.p,{children:"\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u67e5\u770b\u4f9d\u8d56\u5305\u5217\u8868\u5982\u4e0b\u6240\u793a\uff1a"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:"Package                 Version\n----------------------- --------\nabsl-py                 1.4.0\nattr                    0.3.2\nattrs                   23.1.0\ncachetools              5.3.0\ncertifi                 2023.5.7\ncharset-normalizer      3.1.0\ncolorama                0.4.6\ncoremltools             4.1\ncycler                  0.11.0\nfonttools               4.38.0\ngoogle-auth             2.20.0\ngoogle-auth-oauthlib    0.4.6\ngrpcio                  1.56.0\nidna                    3.4\nimportlib-metadata      6.6.0\nkiwisolver              1.4.4\nMarkdown                3.4.3\nmarkdown-it-py          2.2.0\nMarkupSafe              2.1.2\nmatplotlib              3.5.3\nmdurl                   0.1.2\nmpmath                  1.3.0\nnumpy                   1.19.5\noauthlib                3.2.2\nonnx                    1.13.0\nonnxsim                 0.4.13\nopencv-python           4.7.0.68\npackaging               23.1\npandas                  1.1.5\nPillow                  9.2.0\npip                     22.3.1\nprotobuf                3.20.3\npyasn1                  0.5.0\npyasn1-modules          0.3.0\nPygments                2.15.1\npyparsing               3.1.0\npython-dateutil         2.8.2\npytz                    2023.3\nPyYAML                  6.0\nrequests                2.28.2\nrequests-oauthlib       1.3.1\nrich                    13.3.5\nrsa                     4.9\nscikit-learn            0.19.2\nscipy                   1.7.3\nseaborn                 0.12.2\nsetuptools              65.6.3\nsix                     1.16.0\nsympy                   1.10.1\ntensorboard             2.11.2\ntensorboard-data-server 0.6.1\ntensorboard-plugin-wit  1.8.1\ntorch                   1.10.0\ntorchaudio              0.10.0\ntorchvision             0.11.0\ntqdm                    4.64.1\ntyping_extensions       4.6.3\nurllib3                 1.26.15\nWerkzeug                2.2.3\nwheel                   0.38.4\nwincertstore            0.2\nzipp                    3.15.0\n"})}),"\n",(0,o.jsx)(e.h2,{id:"4\u6d4b\u8bd5yolov5\u73af\u5883",children:"4.\u6d4b\u8bd5YOLOV5\u73af\u5883"}),"\n",(0,o.jsx)(e.h3,{id:"41-\u6d4b\u8bd5\u68c0\u6d4b\u6a21\u578b",children:"4.1 \u6d4b\u8bd5\u68c0\u6d4b\u6a21\u578b"}),"\n",(0,o.jsxs)(e.p,{children:["\u8fdb\u5165YOLOV5\u6e90\u7801\u76ee\u5f55\u540e\uff0c\u8f93\u5165",(0,o.jsx)(e.code,{children:"python detect.py "})]}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.img,{alt:"image-20230627174555099",src:i(95876).Z+"",width:"1901",height:"235"})}),"\n",(0,o.jsx)(e.p,{children:"\u53ef\u4ee5\u770b\u5230\u5df2\u7ecf\u53ef\u4ee5\u68c0\u6d4b\u51faCUDA\u663e\u5361\u8bbe\u5907\u53f70\u3002"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:"YOLOv5  2021-10-12 torch 1.10.0 CUDA:0 (NVIDIA GeForce RTX 3060, 12287.5MB)\n"})}),"\n",(0,o.jsx)(e.h3,{id:"42-\u6d4b\u8bd5\u5bfc\u51fa\u6a21\u578b",children:"4.2 \u6d4b\u8bd5\u5bfc\u51fa\u6a21\u578b"}),"\n",(0,o.jsx)(e.p,{children:"\u5728\u7ec8\u7aef\u8f93\u5165"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:"python export.py --weights yolov5s.pt --include onnx --dynamic\n"})}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.img,{alt:"image-20230627174934964",src:i(1357).Z+"",width:"1902",height:"472"})}),"\n",(0,o.jsx)(e.h3,{id:"43-\u6d4b\u8bd5\u8bad\u7ec3\u6a21\u578b",children:"4.3 \u6d4b\u8bd5\u8bad\u7ec3\u6a21\u578b"}),"\n",(0,o.jsx)(e.p,{children:"\u5728\u7ec8\u7aef\u8f93\u5165"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:"python train.py\n"})}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.img,{alt:"image-20230627182900796",src:i(13315).Z+"",width:"1898",height:"963"})})]})}function d(n={}){const{wrapper:e}={...(0,t.a)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(a,{...n})}):a(n)}},71947:(n,e,i)=>{i.d(e,{Z:()=>o});const o=i.p+"assets/images/image-20230627170953684-b4a1177d14e1c3acc3238d296fa42d86.png"},95876:(n,e,i)=>{i.d(e,{Z:()=>o});const o=i.p+"assets/images/image-20230627174555099-53248c67e46e79cbbb66786fbfe9babc.png"},1357:(n,e,i)=>{i.d(e,{Z:()=>o});const o=i.p+"assets/images/image-20230627174934964-d0e2a97b8b4df3cdf6e9f612aa83de1f.png"},13315:(n,e,i)=>{i.d(e,{Z:()=>o});const o=i.p+"assets/images/image-20230627182900796-c1d5a5c1a99fea1dad00406a63d27a5d.png"},81063:(n,e,i)=>{i.d(e,{Z:()=>o});const o=i.p+"assets/images/pytorch-EnvironmentalConfig-a9738c9c537fda84613fe0550af5b5ec.gif"},6196:(n,e,i)=>{i.d(e,{Z:()=>o});const o=i.p+"assets/images/yolov5-EnvironmentalConstruction-2f91ad3e14564516fcf99030b87e4868.gif"},11151:(n,e,i)=>{i.d(e,{Z:()=>l,a:()=>r});var o=i(67294);const t={},s=o.createContext(t);function r(n){const e=o.useContext(s);return o.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:r(n.components),o.createElement(s.Provider,{value:e},n.children)}}}]);